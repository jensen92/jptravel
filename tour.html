<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¦å²¡å¤§åˆ†è¦ªå­æ—…éŠäº’å‹•æŒ‡å—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <!-- Visualization & Content Choices:
        - Transportation Comparison: HTML table (Goal: Compare, Method: Table, Interaction: Read).
        - Attraction/Hotel Lists: Interactive cards (Goal: Inform/Choose, Method: HTML cards + JS for modals, Interaction: Click to open modal).
        - Fukuoka Attraction Ticket Prices: Chart.js Bar Chart (Goal: Compare, Method: Bar Chart, Interaction: Hover for tooltip, Justification: Visual comparison of costs).
        - Fukuoka Attraction Stay Times: Chart.js Bar Chart (Goal: Compare, Method: Bar Chart, Interaction: Hover for tooltip, Justification: Visual comparison of time commitment).
        - Oita Attraction Ticket Prices: Chart.js Bar Chart (Goal: Compare, Method: Bar Chart, Interaction: Hover for tooltip, Justification: Visual comparison of costs).
        - Oita Attraction Stay Times: Chart.js Bar Chart (Goal: Compare, Method: Bar Chart, Interaction: Hover for tooltip, Justification: Visual comparison of time commitment).
        - Hotel Price Indicators: Visual representation within hotel cards (e.g., using text/icons like Â¥, Â¥Â¥, Â¥Â¥Â¥) (Goal: Inform, Method: HTML/CSS, Interaction: Read).
        - All textual content from the report will be placed in relevant sections with introductory paragraphs for context.
        - Itinerary Map: Leaflet.js map to show attraction locations.
        - CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px; /* Adjusted for better presentation */
            margin-left: auto;
            margin-right: auto;
            height: 300px; /* Base height */
            max-height: 350px; /* Max height */
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .nav-link {
            @apply px-3 py-2 rounded-md text-sm font-medium text-stone-700 hover:bg-amber-100 hover:text-orange-600 transition-colors;
        }
        .nav-link-active {
            @apply bg-teal-600 text-white hover:bg-teal-700;
        }
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 100; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0,0,0,0.5); /* Black w/ opacity */
        }
        .modal-content {
            background-color: #fefefe;
            margin: 5% auto; /* 5% from the top and centered */
            padding: 20px;
            border: 1px solid #888;
            width: 80%; /* Could be more or less, depending on screen size */
            max-width: 800px;
            border-radius: 8px;
            position: relative;
        }
        .close-button {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            position: absolute;
            top: 10px;
            right: 20px;
        }
        .close-button:hover,
        .close-button:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
        .tab-button {
            @apply px-4 py-2 font-semibold border-b-2 border-transparent hover:border-teal-500 hover:text-teal-600 focus:outline-none transition-colors;
        }
        .tab-button-active {
            @apply border-teal-600 text-teal-700;
        }
        .card {
            @apply bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300;
        }
        .card-content {
            @apply p-5;
        }
        .card-title {
            @apply text-xl font-semibold text-orange-600 mb-2;
        }
        .card-text {
            @apply text-stone-700 text-sm mb-1;
        }
        .card-button {
            @apply mt-4 inline-block bg-teal-500 text-white text-sm font-medium px-4 py-2 rounded-lg hover:bg-teal-600 transition-colors;
        }
        h2 { @apply text-2xl font-bold text-orange-700 mb-4 mt-6; }
        h3 { @apply text-xl font-semibold text-orange-600 mb-3 mt-5; }
        table { @apply min-w-full divide-y divide-stone-200 border border-stone-300 rounded-lg shadow-sm mb-6; }
        thead { @apply bg-amber-100; }
        th { @apply px-4 py-3 text-left text-xs font-medium text-orange-700 uppercase tracking-wider; }
        tbody { @apply bg-white divide-y divide-stone-200; }
        td { @apply px-4 py-3 text-sm text-stone-700; }

        /* Leaflet emoji marker style */
        .emoji-marker {
            background: transparent;
            border: none;
        }
        .leaflet-popup-content-wrapper {
            border-radius: 8px;
        }
        .leaflet-popup-content {
            font-size: 14px;
            font-weight: bold;
            color: #333;
        }
    </style>
</head>
<body class="bg-amber-50 text-stone-800">

    <header class="bg-white shadow-md sticky top-0 z-50">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <span class="font-bold text-xl text-orange-600">ç¦å²¡å¤§åˆ†è¦ªå­éŠ</span>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#" class="nav-link nav-link-active" data-section="home">é¦–é </a>
                        <a href="#" class="nav-link" data-section="transport">äº¤é€šæŒ‡å—</a>
                        <a href="#" class="nav-link" data-section="fukuoka">ç¦å²¡è¦ªå­éŠ</a>
                        <a href="#" class="nav-link" data-section="oita">å¤§åˆ†è¦ªå­éŠ</a>
                        <a href="#" class="nav-link" data-section="itinerary">è¡Œç¨‹è¦åŠƒ</a>
                    </div>
                </div>
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="text-stone-700 hover:text-orange-600 focus:outline-none">
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                        </svg>
                    </button>
                </div>
            </div>
        </nav>
        <div id="mobile-menu" class="md:hidden hidden bg-white shadow-lg">
            <a href="#" class="block nav-link" data-section="home">é¦–é </a>
            <a href="#" class="block nav-link" data-section="transport">äº¤é€šæŒ‡å—</a>
            <a href="#" class="block nav-link" data-section="fukuoka">ç¦å²¡è¦ªå­éŠ</a>
            <a href="#" class="block nav-link" data-section="oita">å¤§åˆ†è¦ªå­éŠ</a>
            <a href="#" class="block nav-link" data-section="itinerary">è¡Œç¨‹è¦åŠƒ</a>
        </div>
    </header>

    <main class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
        
        <section id="home" class="content-section p-4">
            <h1 class="text-3xl font-bold text-orange-700 mb-6 text-center">æ‚¨çš„ç¦å²¡å¤§åˆ†è¦ªå­æ¢éšªä¹‹æ—…å³å°‡å•Ÿç¨‹ï¼</h1>
            <p class="text-lg text-stone-700 mb-4 leading-relaxed">
                ä¸€è¶Ÿç²¾å½©çš„æ—¥æœ¬ä¹å·å®¶åº­æ—…è¡Œæ­£ç­‰è‘—æ‚¨ï¼ç¦å²¡èˆ‡å¤§åˆ†ï¼Œé€™å…©å€‹ä¹å·çš„ç’€ç’¨æ˜ç ï¼Œå„è‡ªæ“æœ‰ç¨ç‰¹çš„é­…åŠ›ï¼Œæ˜¯è¦ªå­åŒéŠçš„çµ•ä½³é¸æ“‡ã€‚ç¦å²¡ä»¥å…¶ç¾ä»£åŒ–çš„éƒ½å¸‚é¢¨è²Œã€å……æ»¿æ´»åŠ›çš„å…’ç«¥éŠæ¨‚è¨­æ–½åŠç¾éº—çš„æµ·å²¸å…¬åœ’èåï¼›è€Œå¤§åˆ†å‰‡ä»¥å…¶å¾—å¤©ç¨åšçš„æº«æ³‰è³‡æºã€è¦ªè¿‘è‡ªç„¶çš„å‹•ç‰©åœ’åŠå„å…·ç‰¹è‰²çš„ä¸»é¡Œæ¨‚åœ’å¸å¼•è‘—ç„¡æ•¸å®¶åº­ã€‚
            </p>
            <p class="text-lg text-stone-700 mb-4 leading-relaxed">
                æœ¬äº’å‹•æŒ‡å—æ—¨åœ¨ç‚ºè¨ˆåŠƒå‰å¾€ç¦å²¡åŠå¤§åˆ†çš„å®¶åº­ï¼Œæä¾›ä¸€ä»½è©³ç›¡çš„æ—…éŠè³‡è¨Šã€‚å¾ç†±é–€è¦ªå­æ™¯é»çš„é–€ç¥¨è³‡è¨Šã€å»ºè­°åœç•™æ™‚é–“ï¼Œåˆ°å…©åœ°ä¹‹é–“çš„äº¤é€šæ–¹å¼ï¼Œä¹ƒè‡³æ–¼é©åˆå®¶åº­å…¥ä½çš„èˆ’é©é£¯åº—ï¼Œæˆ‘å€‘éƒ½å°‡ä¸€ä¸€è§£æã€‚æ‚¨å¯ä»¥é€éä¸Šæ–¹çš„å°è¦½åˆ—æ¢ç´¢ä¸åŒä¸»é¡Œï¼Œæˆ–é»æ“Šä¸‹æ–¹çš„å¿«é€Ÿé€£çµé–‹å§‹æ‚¨çš„æ¢ç´¢ã€‚
            </p>
            <div class="grid md:grid-cols-2 gap-6 mt-8">
                <a href="#" data-section-link="fukuoka" class="block p-6 bg-white rounded-xl shadow-lg hover:shadow-2xl transition-shadow text-center">
                    <h3 class="text-2xl font-semibold text-teal-600 mb-2">ğŸï¸ ç¦å²¡æ¢ç´¢</h3>
                    <p class="text-stone-600">éƒ½å¸‚é­…åŠ›ã€æµ·æ¿±å…¬åœ’ã€å…’ç«¥æ¨‚åœ’</p>
                </a>
                <a href="#" data-section-link="oita" class="block p-6 bg-white rounded-xl shadow-lg hover:shadow-2xl transition-shadow text-center">
                    <h3 class="text-2xl font-semibold text-teal-600 mb-2">â™¨ï¸ å¤§åˆ†å¥‡é‡</h3>
                    <p class="text-stone-600">å‹•ç‰©ç‹åœ‹ã€ä¸»é¡Œæ¨‚åœ’ã€æº«æ³‰ç™‚ç™’</p>
                </a>
            </div>
        </section>

        <section id="transport" class="content-section p-4 hidden">
            <h2>ä¹å·è¦ªå­éŠï¼šè¡Œå‰äº¤é€šè¦åŠƒé‡é»</h2>
            <p class="mb-6 text-stone-700">å¦¥å–„çš„äº¤é€šè¦åŠƒæ˜¯è¦ªå­æ—…éŠæˆåŠŸçš„åŸºçŸ³ã€‚äº†è§£å¦‚ä½•åœ¨ç¦å²¡èˆ‡å¤§åˆ†ä¹‹é–“ç§»å‹•ï¼Œä»¥åŠåœ¨å„å€‹åŸå¸‚å…§å¦‚ä½•ä¾¿æ·åœ°å‰å¾€æ™¯é»ï¼Œå°‡ä½¿æ‚¨çš„æ—…ç¨‹æ›´åŠ é †æš¢æ„‰å¿«ã€‚</p>

            <h3>A. ç¦å²¡èˆ‡å¤§åˆ†ä¹‹é–“çš„äº¤é€šé¸æ“‡</h3>
            <p class="mb-4 text-stone-700">é€£æ¥ç¦å²¡èˆ‡å¤§åˆ†çš„ä¸»è¦äº¤é€šæ–¹å¼ç‚ºè‡ªè¡Œé§•è»ŠåŠæ­ä¹˜JRç«è»Šã€‚é¸æ“‡äº¤é€šæ–¹å¼å°‡ç›´æ¥å½±éŸ¿åˆ°åœ¨å¤§åˆ†ç¸£å…§éŠè¦½æ™¯é»çš„ä¾¿åˆ©æ€§ã€‚è‹¥é¸æ“‡æ­ä¹˜ç«è»ŠæŠµé”å¤§åˆ†ï¼Œç”±æ–¼å¤§åˆ†çš„è¦ªå­æ™¯é»åˆ†ä½ˆè¼ƒå»£ï¼ŒæŠµé”å¾Œç§Ÿè»Šå¯èƒ½æ˜¯æ›´æ–¹ä¾¿çš„é¸æ“‡ã€‚</p>
            <div class="overflow-x-auto">
                <table id="transport-comparison-table">
                    <thead>
                        <tr>
                            <th>äº¤é€šæ–¹å¼</th>
                            <th>é ä¼°è»Šç¨‹ (å–®ç¨‹)</th>
                            <th>é ä¼°è²»ç”¨ (å–®ç¨‹æˆäºº)</th>
                            <th>è¦ªå­å‹å–„å„ªé»</th>
                            <th>è¦ªå­å‹å–„è€ƒé‡</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>è‡ªè¡Œé§•è»Š</td>
                            <td>ç´„ 2-3 å°æ™‚</td>
                            <td>éè·¯è²»ç´„ Â¥2,790 - Â¥4,650 æ—¥åœ“</td>
                            <td>è¡Œæè£è¼‰æ–¹ä¾¿ã€è¡Œç¨‹å½ˆæ€§é«˜ã€å¯ä¸­é€”ä¼‘æ¯</td>
                            <td>éœ€ç†Ÿæ‚‰æ—¥æœ¬é§•é§›è¦å‰‡ã€å¯èƒ½ç”¢ç”Ÿåœè»Šè²»ç”¨</td>
                        </tr>
                        <tr>
                            <td>JR ç«è»Š</td>
                            <td>ç´„ 1.5-3 å°æ™‚ (è¦–ä¹èµ·è¨–é»)</td>
                            <td>ç´„ Â¥2,860 - Â¥6,750 æ—¥åœ“</td>
                            <td>ä¹˜åèˆ’é©ã€å¯è³é¢¨æ™¯ã€éƒ¨åˆ†åˆ—è»Šæœ‰è¦ªå­å‹å–„è¨­æ–½</td>
                            <td>æ”œå¸¶å¤§é‡è¡Œæè¼ƒä¸ä¾¿ã€æŠµé”å¤§åˆ†å¾Œå¯èƒ½ä»éœ€è½‰ä¹˜å…¶ä»–äº¤é€š</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3>B. ç¦å²¡å¸‚å…§äº¤é€šå°èˆª</h3>
            <p class="mb-4 text-stone-700">ç¦å²¡å¸‚å€æ“æœ‰ä¾¿æ·çš„å…¬å…±äº¤é€šç¶²çµ¡ï¼ŒåŒ…æ‹¬å¸‚ç‡Ÿåœ°ä¸‹éµã€å¸‚å€å·´å£«åŠJRå„ç·šï¼Œé©åˆå‰å¾€å„éƒ½å¸‚æ™¯é»ã€‚è¨±å¤šæ™¯é»é„°è¿‘å¦‚åšå¤šè»Šç«™ç­‰ä¸»è¦äº¤é€šæ¨ç´ï¼Œæ–¹ä¾¿è½‰ä¹˜ã€‚å°æ–¼å¸‚å€è§€å…‰è€Œè¨€ï¼Œå…¬å…±äº¤é€šå…·å‚™æˆæœ¬æ•ˆç›Šã€‚</p>

            <h3>C. å¤§åˆ†ç¸£å…§äº¤é€šæ¢ç´¢</h3>
            <p class="mb-4 text-stone-700">ç›¸è¼ƒæ–¼ç¦å²¡å¸‚å€ï¼Œå¤§åˆ†ç¸£çš„æ™¯é»åˆ†ä½ˆè¼ƒç‚ºå»£é—Šã€‚å·´å£«æ˜¯å‰å¾€è¨±å¤šå¤§åˆ†æ™¯é»çš„ä¸»è¦æ–¹å¼ã€‚ç”±æ–¼æ™¯é»åˆ†æ•£ï¼Œè‹¥è¿½æ±‚è¡Œç¨‹å½ˆæ€§åŠä¾¿åˆ©æ€§ï¼Œç‰¹åˆ¥æ˜¯å¸¶è‘—å­©å­å’Œè¡Œæçš„å®¶åº­ï¼Œåœ¨å¤§åˆ†ç¸£å…§ç§Ÿè»Šè‡ªé§•æœƒæ˜¯ç›¸ç•¶æ¨è–¦çš„é¸æ“‡ã€‚</p>
        </section>

        <section id="fukuoka" class="content-section p-4 hidden">
            <h2>ç¦å²¡ç¸£ï¼šéƒ½å¸‚é­…åŠ›èˆ‡æµ·æ¿±å¥‡è§€çš„è¦ªå­æ¨‚åœ’</h2>
            <p class="mb-6 text-stone-700">ç¦å²¡ç¸£ä½œç‚ºä¹å·çš„é–€æˆ¶ï¼Œä¸åƒ…æ˜¯ç¹è¯çš„å•†æ¥­ä¸­å¿ƒï¼Œæ›´æ“æœ‰çœ¾å¤šé©åˆè¦ªå­åŒéŠçš„æ™¯é»ï¼Œå¾å¯“æ•™æ–¼æ¨‚çš„é«”é©—è¨­æ–½åˆ°æ™¯è‰²å®œäººçš„æµ·æ¿±å…¬åœ’ï¼Œæ‡‰æœ‰ç›¡æœ‰ã€‚æœ¬å€å°‡ç‚ºæ‚¨è©³ç´°ä»‹ç´¹ç¦å²¡çš„ç†±é–€è¦ªå­æ™¯é»åŠä½å®¿é¸æ“‡ã€‚</p>
            <div class="mb-6 border-b border-stone-300">
                <nav class="flex space-x-1" aria-label="Tabs">
                    <button class="tab-button tab-button-active" data-tab="fukuoka-attractions">æ™¯é»ç²¾é¸</button>
                    <button class="tab-button" data-tab="fukuoka-hotels">ä½å®¿æ¨è–¦</button>
                </nav>
            </div>

            <div id="fukuoka-attractions" class="tab-content">
                <h3>ç¦å²¡è¦ªå­ç†±é–€æ™¯é»ç²¾é¸</h3>
                <p class="mb-4 text-stone-700">æ¢ç´¢ç¦å²¡æœ€å—å®¶åº­æ­¡è¿çš„æ™¯é»ï¼Œå¾åˆºæ¿€çš„æ¨‚åœ’åˆ°çŸ¥æ€§çš„åšç‰©é¤¨ï¼Œæ»¿è¶³ä¸åŒå¹´é½¡å±¤å­©å­çš„éœ€æ±‚ã€‚</p>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6" id="fukuoka-attractions-cards">
                </div>
                <h3 class="mt-8">æ™¯é»æ•¸æ“šæ¯”è¼ƒ</h3>
                <div class="grid md:grid-cols-2 gap-6 mt-4">
                    <div>
                        <h4>ç¦å²¡æ™¯é»æˆäººé–€ç¥¨è²»ç”¨ (æ—¥åœ“)</h4>
                        <div class="chart-container bg-white p-2 rounded-lg shadow">
                            <canvas id="fukuokaAttractionTicketsChart"></canvas>
                        </div>
                    </div>
                    <div>
                        <h4>ç¦å²¡æ™¯é»å»ºè­°åœç•™æ™‚é–“ (å°æ™‚)</h4>
                        <div class="chart-container bg-white p-2 rounded-lg shadow">
                            <canvas id="fukuokaAttractionStayTimesChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <div id="fukuoka-hotels" class="tab-content hidden">
                <h3>ç¦å²¡è¦ªå­å‹å–„ä½å®¿æ¨è–¦</h3>
                <p class="mb-4 text-stone-700">åœ¨ç¦å²¡å¸‚å…§é¸æ“‡é©åˆè¦ªå­åŒä½çš„é£¯åº—æ™‚ï¼Œé™¤äº†è€ƒé‡äº¤é€šä¾¿åˆ©æ€§ï¼Œå®¢æˆ¿ç©ºé–“ã€å…’ç«¥è¨­æ–½èˆ‡æœå‹™äº¦æ˜¯é‡è¦å› ç´ ã€‚é€™è£¡ç‚ºæ‚¨æ¨è–¦å¹¾å®¶è©•åƒ¹è‰¯å¥½çš„è¦ªå­å‹å–„é£¯åº—ã€‚</p>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6" id="fukuoka-hotels-cards">
                </div>
            </div>
        </section>

        <section id="oita" class="content-section p-4 hidden">
            <h2>å¤§åˆ†ç¸£ï¼šå‹•ç‰©å¥‡é‡ã€ä¸»é¡Œæ¨‚åœ’èˆ‡æº«æ³‰ç™‚ç™’ä¹‹æ—…</h2>
            <p class="mb-6 text-stone-700">å¤§åˆ†ç¸£ä»¥å…¶è±å¯Œçš„è‡ªç„¶æ™¯è§€ã€ç¨ç‰¹çš„å‹•ç‰©åœ’ã€é­…åŠ›å››å°„çš„ä¸»é¡Œæ¨‚åœ’ä»¥åŠèåéé‚‡çš„æº«æ³‰é„‰ï¼Œç‚ºè¦ªå­æ—…éŠæä¾›äº†å¤šå…ƒåŒ–çš„é¸æ“‡ã€‚ä¸€èµ·ä¾†æ¢ç´¢å¤§åˆ†çš„ç²¾å½©å§ï¼</p>
            <div class="mb-6 border-b border-stone-300">
                <nav class="flex space-x-1" aria-label="Tabs">
                    <button class="tab-button tab-button-active" data-tab="oita-attractions">æ™¯é»ç²¾é¸</button>
                    <button class="tab-button" data-tab="oita-hotels">ä½å®¿æ¨è–¦</button>
                </nav>
            </div>

            <div id="oita-attractions" class="tab-content">
                <h3>å¤§åˆ†è¦ªå­ç†±é–€æ™¯é»ç²¾é¸</h3>
                <p class="mb-4 text-stone-700">å¤§åˆ†ç¸£å……æ»¿é©šå¥‡ï¼Œç„¡è«–æ˜¯è¿‘è·é›¢æ¥è§¸é‡ç”Ÿå‹•ç‰©ï¼Œæˆ–æ˜¯åœ¨å¤¢å¹»çš„ä¸»é¡Œæ¨‚åœ’ä¸­æ­¡ç¬‘ï¼Œéƒ½èƒ½è®“æ‚¨èˆ‡å­©å­ç•™ä¸‹æ·±åˆ»å›æ†¶ã€‚</p>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6" id="oita-attractions-cards">
                </div>
                 <h3 class="mt-8">æ™¯é»æ•¸æ“šæ¯”è¼ƒ</h3>
                <div class="grid md:grid-cols-2 gap-6 mt-4">
                    <div>
                        <h4>å¤§åˆ†æ™¯é»æˆäººé–€ç¥¨è²»ç”¨ (æ—¥åœ“)</h4>
                        <div class="chart-container bg-white p-2 rounded-lg shadow">
                            <canvas id="oitaAttractionTicketsChart"></canvas>
                        </div>
                    </div>
                    <div>
                        <h4>å¤§åˆ†æ™¯é»å»ºè­°åœç•™æ™‚é–“ (å°æ™‚)</h4>
                        <div class="chart-container bg-white p-2 rounded-lg shadow">
                            <canvas id="oitaAttractionStayTimesChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <div id="oita-hotels" class="tab-content hidden">
                <h3>å¤§åˆ†è¦ªå­å‹å–„ä½å®¿æ¨è–¦ (åˆ¥åºœåŠç”±å¸ƒé™¢åœ°å€)</h3>
                <p class="mb-4 text-stone-700">å¤§åˆ†ç¸£çš„åˆ¥åºœå’Œç”±å¸ƒé™¢æ˜¯å…©å¤§è‘—åçš„æº«æ³‰è§€å…‰å€ï¼Œé€™è£¡çš„ä½å®¿è¨­æ–½ä¸åƒ…æä¾›èˆ’é©çš„å®¢æˆ¿ï¼Œè¨±å¤šé£¯åº—åŠæ—¥å¼æ—…é¤¨æ›´èå…¥äº†è¦ªå­å¨›æ¨‚å…ƒç´ åŠè²¼å¿ƒçš„å…’ç«¥æœå‹™ã€‚</p>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6" id="oita-hotels-cards">
                </div>
            </div>
        </section>

        <section id="itinerary" class="content-section p-4 hidden">
            <h2>è¡Œç¨‹è¦åŠƒå»ºè­°ï¼šæ‰“é€ æ‚¨çš„å®Œç¾è¦ªå­å‡æœŸ</h2>
            <p class="mb-4 text-stone-700">ç¦å²¡èˆ‡å¤§åˆ†æ“æœ‰çœ¾å¤šä¸”å„å…·ç‰¹è‰²çš„è¦ªå­æ™¯é»ï¼Œè¦åœ¨ä¸€æ¬¡æ—…ç¨‹ä¸­å…¨æ•¸èµ°éå¹¾ä¹æ˜¯ä¸å¯èƒ½çš„ä»»å‹™ã€‚å› æ­¤ï¼Œæ ¹æ“šå®¶åº­æˆå“¡çš„å¹´é½¡ã€èˆˆè¶£ä»¥åŠæ—…éŠå¤©æ•¸ï¼Œæœ‰æ‰€å–æ¨ä¸¦è¦åŠƒå‡ºæœ€é©åˆçš„è¡Œç¨‹è‡³é—œé‡è¦ã€‚</p>
            
            <h3 class="text-xl font-semibold text-orange-600 mb-2 mt-5">æ™¯é»åœ°ç†ä½ç½®æ¦‚è¦½</h3>
            <p class="mb-4 text-stone-700">ä¸‹æ–¹çš„äº’å‹•åœ°åœ–æ¨™ç¤ºäº†ç¦å²¡åŠå¤§åˆ†åœ°å€ä¸»è¦è¦ªå­æ™¯é»çš„åœ°ç†ä½ç½®ã€‚æ‚¨å¯ä»¥é€éåœ°åœ–äº†è§£å„æ™¯é»çš„ç›¸å°ä½ç½®ï¼Œä»¥ä¾¿æ›´é †æš¢åœ°è¦åŠƒæ‚¨çš„æ—…éŠè·¯ç·šï¼Œæ¸›å°‘äº¤é€šå¾€è¿”æ™‚é–“ã€‚é»æ“Šåœ°åœ–ä¸Šçš„åœ–ç¤ºå¯ä»¥æŸ¥çœ‹æ™¯é»åç¨±ã€‚</p>
            <div id="itineraryMap" class="rounded-lg shadow-lg mb-6" style="height: 450px; width: 100%;"></div>
            
            <p class="mb-4 text-stone-700">å»ºè­°å¯ä»¥è€ƒæ…®å°‡è¡Œç¨‹å¤§è‡´åˆ†ç‚ºç¦å²¡éƒ½æœƒæ¢ç´¢åŠå¤§åˆ†è‡ªç„¶èˆ‡æ¨‚åœ’é«”é©—å…©éƒ¨åˆ†ã€‚ä¾‹å¦‚ï¼Œè‹¥æœ‰5-6å¤©çš„æ™‚é–“ï¼Œå¯ä»¥å®‰æ’2-3å¤©åœ¨ç¦å²¡ï¼Œè‘—é‡æ–¼å¸‚å€å…§çš„åšç‰©é¤¨ã€é«”é©—å‹æ¨‚åœ’ä»¥åŠæµ·ä¹‹ä¸­é“çš„æµ·æ¿±å…¬åœ’èˆ‡æ°´æ—é¤¨ã€‚éš¨å¾Œçš„2-3å¤©å‰‡å¯ç§»å¸«å¤§åˆ†ï¼Œé¸æ“‡å‰å¾€ä¹å·è‡ªç„¶å‹•ç‰©åœ’äº«å—èˆ‡å‹•ç‰©è¿‘è·é›¢æ¥è§¸çš„æ¨‚è¶£ï¼Œæˆ–åˆ°ä¸‰éº—é·—å’Œè«§æ¨‚åœ’èˆ‡å¯æ„›çš„å¡é€šæ˜æ˜ŸåŒæ­¡ï¼ŒæŠ‘æˆ–æ˜¯åœ¨ç”±å¸ƒé™¢çš„æº«æ³‰å°é®ä¸­æ‚ é–’æ¼«æ­¥ï¼Œé«”é©—ä¸åŒçš„æ—¥å¼é¢¨æƒ…ã€‚</p>
            <h3 class="text-xl font-semibold text-orange-600 mb-2">è¦åŠƒæ¯æ—¥è¡Œç¨‹æ™‚ï¼Œæ‡‰æ³¨æ„ä»¥ä¸‹å¹¾é»ï¼š</h3>
            <ul class="list-disc list-inside space-y-2 text-stone-700 mb-4">
                <li><strong>æ™¯é»åœ°ç†ä½ç½®</strong>ï¼šç›¡é‡å°‡åœ°ç†ä½ç½®ç›¸è¿‘çš„æ™¯é»å®‰æ’åœ¨åŒä¸€å¤©ï¼Œä»¥æ¸›å°‘äº¤é€šå¾€è¿”çš„æ™‚é–“ã€‚(å¯åƒè€ƒä¸Šæ–¹åœ°åœ–)</li>
                <li><strong>æ´»å‹•æ€§è³ªæ­é…</strong>ï¼šé¿å…é€£çºŒå®‰æ’æ€§è³ªéæ–¼ç›¸ä¼¼æˆ–é«”åŠ›æ¶ˆè€—éå¤§çš„æ´»å‹•ï¼Œå¯ä»¥å‹•éœçµåˆã€‚</li>
                <li><strong>å…’ç«¥å¹´é½¡èˆ‡èˆˆè¶£</strong>ï¼šæ ¹æ“šå­©å­çš„å–œå¥½é¸æ“‡åˆé©çš„æ™¯é»ã€‚</li>
                <li><strong>äº¤é€šæ™‚é–“</strong>ï¼šå‹™å¿…å°‡äº¤é€šæ™‚é–“ç´å…¥è€ƒé‡ï¼Œé¿å…è¡Œç¨‹éæ–¼ç·Šæ¹Šã€‚</li>
                <li><strong>å½ˆæ€§é ç•™</strong>ï¼šè¦ªå­æ—…éŠå¸¸æœ‰çªç™¼ç‹€æ³ï¼Œå»ºè­°æ¯æ—¥è¡Œç¨‹ä¸è¦æ’å¾—éæ»¿ï¼Œé ç•™å½ˆæ€§æ™‚é–“ã€‚</li>
            </ul>
            <p class="text-stone-700">æœ€çµ‚çš„è¡Œç¨‹æ‡‰æ˜¯ç‚ºæ‚¨çš„å®¶åº­é‡èº«æ‰“é€ çš„ã€‚æœ¬äº’å‹•æŒ‡å—æä¾›çš„è©³ç›¡æ™¯é»èˆ‡ä½å®¿è³‡è¨Šï¼Œå¸Œæœ›èƒ½æˆç‚ºæ‚¨è¦åŠƒé€™è¶Ÿæ—…ç¨‹çš„å¾—åŠ›åŠ©æ‰‹ï¼Œè®“æ‚¨èƒ½ä¾æ“šå®¶åº­çš„å–œå¥½èˆ‡éœ€æ±‚ï¼Œçµ„åˆå‡ºä¸€æ®µå……æ»¿æ­¡ç¬‘èˆ‡ç¾å¥½å›æ†¶çš„ä¹å·è¦ªå­ä¹‹æ—…ã€‚</p>
        </section>
    </main>

    <footer class="bg-stone-800 text-amber-50 py-8 text-center mt-12">
        <p>&copy; 2024 ç¦å²¡å¤§åˆ†è¦ªå­æ—…éŠäº’å‹•æŒ‡å—ã€‚è³‡è¨Šåƒ…ä¾›åƒè€ƒï¼Œè«‹ä»¥å®˜æ–¹æœ€æ–°å…¬å‘Šç‚ºæº–ã€‚</p>
    </footer>

    <div id="detailsModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal()">&times;</span>
            <div id="modalBody" class="max-h-[80vh] overflow-y-auto"></div>
        </div>
    </div>

    <script>
        const navLinks = document.querySelectorAll('.nav-link');
        const contentSections = document.querySelectorAll('.content-section');
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const sectionLinks = document.querySelectorAll('a[data-section-link]');
        let itineraryMapInstance = null; // To store the map instance

        function setActiveLink(activeLink) {
            navLinks.forEach(link => {
                link.classList.remove('nav-link-active');
                if (link.dataset.section === activeLink.dataset.section) {
                    link.classList.add('nav-link-active');
                }
            });
        }
        
        function showSection(sectionId) {
            contentSections.forEach(section => {
                section.classList.add('hidden');
                if (section.id === sectionId) {
                    section.classList.remove('hidden');
                }
            });
            if (sectionId === 'itinerary') {
                initItineraryMap(); // Initialize map when itinerary section is shown
            }
            window.scrollTo(0, 0); // Scroll to top
        }

        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const sectionId = link.dataset.section;
                showSection(sectionId);
                setActiveLink(link);
                if (mobileMenu.classList.contains('hidden') === false) {
                    mobileMenu.classList.add('hidden');
                }
            });
        });

        sectionLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const sectionId = link.dataset.sectionLink;
                showSection(sectionId);
                navLinks.forEach(navLink => {
                    if (navLink.dataset.section === sectionId) {
                        setActiveLink(navLink);
                    }
                });
            });
        });

        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        const tabButtons = document.querySelectorAll('.tab-button');
        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                const targetTabId = button.dataset.tab;
                const parentSection = button.closest('.content-section');
                
                parentSection.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('tab-button-active'));
                button.classList.add('tab-button-active');
                
                parentSection.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.add('hidden');
                    if (content.id === targetTabId) {
                        content.classList.remove('hidden');
                    }
                });
            });
        });

        const modal = document.getElementById('detailsModal');
        const modalBody = document.getElementById('modalBody');

        function openModal(content) {
            modalBody.innerHTML = content;
            modal.style.display = "block";
        }

        function closeModal() {
            modal.style.display = "none";
            modalBody.innerHTML = "";
        }

        window.onclick = function(event) {
            if (event.target == modal) {
                closeModal();
            }
        }

        function formatLabel(str, maxLen = 16) {
            if (str.length <= maxLen) return str;
            const parts = [];
            let currentPart = "";
            str.split('').forEach(char => {
                if (currentPart.length < maxLen) {
                    currentPart += char;
                } else {
                    parts.push(currentPart);
                    currentPart = char;
                }
            });
            if (currentPart) parts.push(currentPart);
            return parts;
        }

        // --- Attraction and Hotel Data with Added Coordinates ---
        // Note: Coordinates are approximate for demonstration purposes.
        const fukuokaAttractionsData = [
            { name: "æµ·ä¹‹ä¸­é“æµ·æ¿±å…¬åœ’", icon: "ğŸï¸", shortDesc: "å»£é—Šåœ‹ç‡Ÿå…¬åœ’ï¼Œå››å­£èŠ±å‰ï¼Œå‹•ç‰©ä¹‹æ£®ã€‚", details: {ç‰¹è‰²:"ä½”åœ°å»£é—Šï¼Œè‡ªç„¶æ™¯è§€è±å¯Œï¼Œå¤šæ¨£éŠæ¨‚è¨­æ–½ã€‚", äº®é»:"å‹•ç‰©ä¹‹æ£®ã€å››å­£èŠ±æµ·ã€é™½å…‰æ³³æ± ã€‚", åœ°å€:"ç¦å²¡å¸‚æ±å€å¤§å­—è¥¿æˆ¶å´18-25", äº¤é€š:"JRé¦™æ¤ç·šã€Œæµ·ä¹‹ä¸­é“ã€ç«™", é–‹æ”¾æ™‚é–“:"09:30-17:30 (å­£ç¯€è®Šå‹•)", é–€ç¥¨:"æˆäººÂ¥450, åœ‹ä¸­ä»¥ä¸‹å…è²»", åœç•™:"2-3å°æ™‚+", åœè»Š:"æœ‰, Â¥600", å®˜ç¶²:"uminaka-park.jp" }, ticket: 450, stay: 2.5, lat: 33.660, lng: 130.310 },
            { name: "æµ·æ´‹ä¸–ç•Œæµ·ä¹‹ä¸­é“", icon: "ğŸ ", shortDesc: "ä¹å·ä¹‹æµ·ä¸»é¡Œæ°´æ—é¤¨ï¼Œç²¾å½©å‹•ç‰©è¡¨æ¼”ã€‚", details: {ç‰¹è‰²:"å¤§å‹æ°´æ—é¤¨ï¼Œå±•ç¤ºç´„350ç¨®æµ·æ´‹ç”Ÿç‰©ã€‚", äº®é»:"æµ·è±šæµ·ç…è¡¨æ¼”ã€å¤–æ´‹å¤§æ°´æ§½ã€ä¼éµä¹‹ä¸˜ã€‚", åœ°å€:"ç¦å²¡å¸‚æ±å€è¥¿æˆ¶å´18-28", äº¤é€š:"JRã€Œæµ·ä¹‹ä¸­é“ã€ç«™", é–‹æ”¾æ™‚é–“:"09:30-17:30 (å­£ç¯€è®Šå‹•)", é–€ç¥¨:"æˆäººÂ¥2500, ä¸­å°å­¸ç”ŸÂ¥1200", åœç•™:"2-3å°æ™‚", åœè»Š:"æœ‰, Â¥530-Â¥600", å®˜ç¶²:"marine-world.jp (ç¤ºæ„)" }, ticket: 2500, stay: 2.5, lat: 33.658, lng: 130.312 },
            { name: "ç¦å²¡éºµåŒ…è¶…äººå…’ç«¥åšç‰©é¤¨", icon: "ğŸ§¸", shortDesc: "éºµåŒ…è¶…äººä¸»é¡Œæ¨‚åœ’ï¼Œè§’è‰²è¦‹é¢æœƒã€‚", details: {ç‰¹è‰²:"å°ˆç‚ºå­¸é½¡å‰å…’ç«¥æ‰“é€ çš„å¤¢å¹»æ¨‚åœ’ã€‚", äº®é»:"è§’è‰²è¦‹é¢æœƒã€ä¸»é¡ŒéŠæ¨‚å€ã€åŠ‡å ´è¡¨æ¼”ã€‚", åœ°å€:"ç¦å²¡å¸‚åšå¤šå€ä¸‹å·ç«¯ç”º3-1", äº¤é€š:"åœ°ä¸‹éµã€Œä¸­æ´²å·ç«¯ã€ç«™ç›´çµ", é–‹æ”¾æ™‚é–“:"10:00-17:00 (å­£ç¯€è®Šå‹•)", é–€ç¥¨:"1æ­²ä»¥ä¸Šç´„Â¥1800-Â¥2200", åœç•™:"2-3å°æ™‚+", åœè»Š:"ç„¡å°ˆç”¨ (åˆ©ç”¨å•†å ´)", å®˜ç¶²:"fukuoka-anpanman.jp" }, ticket: 2000, stay: 2.5, lat: 33.593, lng: 130.407 },
            { name: "KidZaniaç¦å²¡", icon: "ğŸ‘¨â€âš•ï¸", shortDesc: "å…’ç«¥è·æ¥­é«”é©—åŸï¼Œç´„70ç¨®è·æ¥­ã€‚", details: {ç‰¹è‰²:"æŒ‰2/3æ¯”ä¾‹æ‰“é€ çš„è¿·ä½ åŸå¸‚ã€‚", äº®é»:"æ¶ˆé˜²å“¡ã€é£›è¡Œå“¡ç­‰è·æ¥­é«”é©—ï¼Œè³ºå–KidZoã€‚", åœ°å€:"ç¦å²¡å¸‚åšå¤šå€é‚£ç‚6-23-1 (LaLaportå…§)", äº¤é€š:"JRã€Œç«¹ä¸‹ã€ç«™", é–‹æ”¾æ™‚é–“:"åˆ†å ´æ¬¡ (ä¾‹: 09:00-14:30)", é–€ç¥¨:"æµ®å‹•ç¥¨åƒ¹ (æˆäººç´„Â¥1900-Â¥2800)", åœç•™:"4-8å°æ™‚", åœè»Š:"æœ‰ (LaLaportç¦å²¡, æœ‰å„ªæƒ )", å®˜ç¶²:"kidzania.jp/fukuoka/" }, ticket: 2350, stay: 4, lat: 33.573, lng: 130.426 },
            { name: "teamLab Forest ç¦å²¡", icon: "âœ¨", shortDesc: "äº’å‹•æ•¸ä½è—è¡“ç¾è¡“é¤¨ï¼Œå…‰å½±é¥—å®´ã€‚", details: {ç‰¹è‰²:"teamLabæ‰“é€ ï¼Œæ•æ‰è’é›†èˆ‡é‹å‹•æ£®æ—ã€‚", äº®é»:"èº«è‡¨å…¶å¢ƒçš„äº’å‹•è—è¡“é«”é©—ã€‚", åœ°å€:"ç¦å²¡å¸‚ä¸­å¤®å€åœ°è¡Œæ¿±2-2-6", äº¤é€š:"åœ°ä¸‹éµã€Œå”äººç”ºã€ç«™", é–‹æ”¾æ™‚é–“:"å¹³æ—¥11-20, å‡æ—¥10-20", é–€ç¥¨:"æˆäººÂ¥2400, 15æ­²ä»¥ä¸‹Â¥1000", åœç•™:"1.5-2.5å°æ™‚", åœè»Š:"æœ‰ (åˆ©ç”¨è¨­æ–½åœè»Šå ´)", å®˜ç¶²:"teamlab.art/jp/e/forest/" }, ticket: 2400, stay: 2, lat: 33.595, lng: 130.364 },
            { name: "ç¦å²¡å¸‚å‹•æ¤ç‰©åœ’", icon: "ğŸ˜", shortDesc: "æ­·å²æ‚ ä¹…ï¼Œå‹•ç‰©æ¤ç‰©ç¨®é¡è±å¯Œã€‚", details: {ç‰¹è‰²:"åœ’å€å»£é—Šï¼Œé£¼é¤Šç´„100ç¨®å‹•ç‰©ã€‚", äº®é»:"åŒ—åœ’ã€å—åœ’ã€äºæ´²ç†±å¸¶æºªè°·å€ã€æ¤ç‰©åœ’ã€‚", åœ°å€:"ç¦å²¡å¸‚ä¸­å¤®å€å—å…¬åœ’", äº¤é€š:"åœ°ä¸‹éµã€Œè—¥é™¢å¤§é€šã€ç«™+å·´å£«/æ­¥è¡Œ", é–‹æ”¾æ™‚é–“:"09:00-17:00 (é€±ä¸€ä¼‘)", é–€ç¥¨:"æˆäººÂ¥600, åœ‹ä¸­ä»¥ä¸‹å…è²»", åœç•™:"3-4å°æ™‚", åœè»Š:"æœ‰, æ”¶è²»", å®˜ç¶²:"zoo.city.fukuoka.lg.jp" }, ticket: 600, stay: 3.5, lat: 33.578, lng: 130.400 },
        ];

        const fukuokaHotelsData = [
            { name: "ç¦å²¡å›æ‚…é£¯åº—", icon: "ğŸ¨", shortDesc: "åšå¤šé‹æ²³åŸæ—ï¼Œæ—¥å¼å¥—æˆ¿é©åˆå®¶åº­ã€‚", priceIndicator: "Â¥Â¥Â¥", details: {è¦ªå­æˆ¿å‹:"æ—¥å¼å¥—æˆ¿ (å¯5äºº), æˆ–æ´½é€£é€šæˆ¿", å…’ç«¥æœå‹™:"12æ­²ä»¥ä¸‹åŒåºŠå…è²», å¬°å…’åºŠ, å…’ç«¥é¤å…·/èœå–®, æ³³æ± (7æ­²+é™åˆ¶)", åœ°é»:"åšå¤šå€", é„°è¿‘:"åšå¤šé‹æ²³åŸ"} },
            { name: "ç¦å²¡æµ·é·¹å¸Œçˆ¾é “é£¯åº—", icon: "ğŸ¨", shortDesc: "è¿‘ç¦å²¡å·¨è›‹ï¼Œäº«æµ·æ™¯ï¼Œå®¶åº­å¥—æˆ¿ã€‚", priceIndicator: "Â¥Â¥Â¥", details: {è¦ªå­æˆ¿å‹:"å®¶åº­å°å¥—æˆ¿/è±ªè¯æˆ¿, æˆ–æ´½é€£é€šæˆ¿", å…’ç«¥æœå‹™:"5æ­²ä»¥ä¸‹åŒåºŠå…è²», å¬°å…’åºŠ, å…’ç«¥éŠæ¨‚å€, å®¶åº­æ­¡æ¨‚å¤œ", åœ°é»:"ä¸­å¤®å€", é„°è¿‘:"ç¦å²¡PayPayå·¨è›‹"} },
            { name: "THE LUIGANS Spa & Resort", icon: "ğŸ¨", shortDesc: "è¿‘æµ·ä¹‹ä¸­é“ï¼Œåº¦å‡æ°›åœï¼Œå…’ç«¥æˆ¿ã€‚", priceIndicator: "Â¥Â¥-Â¥Â¥Â¥", details: {è¦ªå­æˆ¿å‹:"å·´æ‹‰ç”˜å…’ç«¥æˆ¿", å…’ç«¥æœå‹™:"å­¸é½¡å‰åŒåºŠå…è²», å¬°å…’åºŠ, å…’ç«¥æ³³æ± , æ‰˜å…’æœå‹™", åœ°é»:"æ±å€", é„°è¿‘:"æµ·ä¹‹ä¸­é“æµ·æ¿±å…¬åœ’"} },
            { name: "ç¦å²¡è²å¡šVessel Hotel", icon: "ğŸ¨", shortDesc: "18æ­²ä»¥ä¸‹åŒåºŠå…è²»ï¼Œç”¨å“é½Šå…¨ã€‚", priceIndicator: "Â¥-Â¥Â¥", details: {è¦ªå­æˆ¿å‹:"å®¶åº­æˆ¿, å¯¬æ•é›™åºŠæˆ¿", å…’ç«¥æœå‹™:"18æ­²ä»¥ä¸‹åŒåºŠå…è²», å¬°å…’åºŠ/è»Š/ç”¨å“å…è²»ç§Ÿå€Ÿ", åœ°é»:"æ±å€", é„°è¿‘:"è²å¡šå€åŸŸ"} },
        ];

        const oitaAttractionsData = [
            { name: "ä¹å·è‡ªç„¶å‹•ç‰©å…¬åœ’ AFRICAN SAFARI", icon: "ğŸ¦", shortDesc: "æ—¥æœ¬æœ€å¤§é‡ç”Ÿå‹•ç‰©åœ’ï¼Œå¢æ—å·´å£«é¤µé£Ÿã€‚", details: {ç‰¹è‰²:"æ­ä¹˜å¢æ—å·´å£«æ·±å…¥çŒ›ç¸å€ï¼Œè¿‘è·é›¢è§€å¯Ÿã€‚", äº®é»:"å¢æ—å·´å£«é¤µé£Ÿã€è‡ªé§•éŠåœ’ã€å¯æ„›å‹•ç‰©å€ã€‚", åœ°å€:"å¤§åˆ†ç¸£å®‡ä½å¸‚å®‰å¿ƒé™¢ç”ºå—ç•‘2-1755-1", äº¤é€š:"JRåˆ¥åºœç«™æ­å·´å£«ç´„50åˆ†", é–‹æ”¾æ™‚é–“:"09:30-16:00 (å­£ç¯€è®Šå‹•)", é–€ç¥¨:"å…¥åœ’: æˆäººÂ¥2600; å¢æ—å·´å£«: Â¥1500/äºº", åœç•™:"2-3å°æ™‚+", åœè»Š:"æœ‰, å…è²»", å®˜ç¶²:"africansafari.co.jp" }, ticket: 2600, stay: 2.5, lat: 33.477, lng: 131.363 },
            { name: "å¤§åˆ†æµ·æ´‹å®®æ®¿æ°´æ—é¤¨ã€Œæµ·ä¹‹åµã€", icon: "ğŸ¬", shortDesc: "ç¾ä»£æ°´æ—é¤¨ï¼Œæˆ¶å¤–ASOBEACHäº’å‹•ã€‚", details: {ç‰¹è‰²:"èˆ‡æµ·æ´‹å‹•ç‰©æˆç‚ºå¥½æœ‹å‹ç‚ºå®—æ—¨ã€‚", äº®é»:"ASOBEACHã€æµ·æ´‹å‹•ç‰©è¡¨æ¼”ã€è§¸æ‘¸æ± ã€‚", åœ°å€:"å¤§åˆ†ç¸£å¤§åˆ†å¸‚ç¥å´å­—ã‚¦ãƒˆ3078-22", äº¤é€š:"JRåˆ¥åºœç«™æ­å·´å£«ç´„15-30åˆ†", é–‹æ”¾æ™‚é–“:"09:00-17:00/18:00 (å­£ç¯€è®Šå‹•)", é–€ç¥¨:"æˆäººÂ¥3000, ä¸­å°å­¸ç”ŸÂ¥1500", åœç•™:"1-2å°æ™‚+", åœè»Š:"æœ‰, Â¥420", å®˜ç¶²:"umitamago.jp" }, ticket: 3000, stay: 1.5, lat: 33.271, lng: 131.660 },
            { name: "ä¸‰éº—é·—å’Œè«§æ¨‚åœ’", icon: "ğŸ€", shortDesc: "Hello Kittyæˆ¶å¤–ä¸»é¡Œæ¨‚åœ’ï¼Œè§’è‰²éŠè¡Œã€‚", details: {ç‰¹è‰²:"é›†çµçœ¾å¤šä¸‰éº—é·—æ˜æ˜Ÿã€‚", äº®é»:"ç¾å ´è¡¨æ¼”èˆ‡éŠè¡Œã€ä¸»é¡ŒéŠæ¨‚è¨­æ–½ã€è§’è‰²é¤å»³ã€‚", åœ°å€:"å¤§åˆ†ç¸£é€Ÿè¦‹éƒ¡æ—¥å‡ºç”ºå¤§å­—è—¤åŸ5933", äº¤é€š:"JRæ—¥å‡ºç«™è½‰è¨ˆç¨‹è»Š/å·´å£«ç´„10åˆ†", é–‹æ”¾æ™‚é–“:"10:00-17:00 (æ¯æ—¥è®Šå‹•)", é–€ç¥¨:"è­·ç…§åˆ¸: Â¥3600 (4æ­²ä»¥ä¸Š)", åœç•™:"åŠå¤©è‡³ä¸€å¤©", åœè»Š:"æœ‰, Â¥500", å®˜ç¶²:"harmonyland.jp" }, ticket: 3600, stay: 4, lat: 33.374, lng: 131.540 },
            { name: "ç”±å¸ƒé™¢", icon: "â™¨ï¸", shortDesc: "é­…åŠ›æº«æ³‰å°é®ï¼Œé‡‘é±—æ¹–ï¼Œæ¹¯ä¹‹åªè¡—é“ã€‚", details: {ç‰¹è‰²:"å„ªç¾è‡ªç„¶é¢¨å…‰ã€ç‰¹è‰²å°åº—ã€ç¾è¡“é¤¨ã€‚", äº®é»:"é‡‘é±—æ¹–ã€æ¹¯ä¹‹åªè¡—é“ã€ç”±å¸ƒé™¢èŠ±å‰æ‘ã€3Då¹»è¦–è—è¡“é¤¨ã€‚", åœ°å€:"å¤§åˆ†ç¸£ç”±å¸ƒå¸‚æ¹¯å¸ƒé™¢ç”º", äº¤é€š:"JRã€Œç”±å¸ƒé™¢ã€ç«™", é–‹æ”¾æ™‚é–“:"å„è¨­æ–½ä¸åŒ", é–€ç¥¨:"èŠ±å‰æ‘å…è²», 3Dé¤¨: Â¥1000 (4æ­²+)", åœç•™:"åŠå¤©è‡³ä¸€å¤©", åœè»Š:"æœ‰, å„è™•æ”¶è²»", å®˜ç¶²:"floral-village.com ç­‰" }, ticket: 1000, stay: 4, lat: 33.263, lng: 131.350 },
        ];

        const oitaHotelsData = [
            { name: "åˆ¥åºœæº«æ³‰ æ‰ä¹ƒäº•é£¯åº—", icon: "ğŸ¨", shortDesc: "å¤§å‹æº«æ³‰åº¦å‡æ‘ï¼Œæ°´ä¸Šæ¨‚åœ’ï¼ŒMIKIHOUSEè¯åæˆ¿ã€‚", priceIndicator: "Â¥Â¥-Â¥Â¥Â¥", details: {è¦ªå­æˆ¿å‹:"MIKIHOUSEè¯åæˆ¿, è™¹é¤¨å®¢æˆ¿", å…’ç«¥æœå‹™:"å¬°å…’ç”¨å“ç§Ÿå€Ÿ, æ°´ä¸Šæ¨‚åœ’, å¨›æ¨‚ä¸­å¿ƒ, å…’ç«¥è‡ªåŠ©é¤", åœ°é»:"åˆ¥åºœ", æº«æ³‰ç‰¹è‰²:"å¤§å‹éœ²å¤©æº«æ³‰æ± , æº«æ³‰æ³³æ± "} },
            { name: "ç”±å¸ƒé™¢ ã„ã‚ˆã¨ã¿", icon: "ğŸ¨", shortDesc: "æ‰€æœ‰æ¹¯æ± çš†å¯ç§äººåŒ…å ´ï¼Œå…è²»å¬°å…’ç”¨å“ã€‚", priceIndicator: "Â¥Â¥", details: {è¦ªå­æˆ¿å‹:"å’Œæ´‹å®¤ (éƒ¨åˆ†é™„åŠéœ²å¤©é¢¨å‘‚)", å…’ç«¥æœå‹™:"æ‰€æœ‰å¤§çœ¾æ¹¯æ± çš†å¯ç§äººåŒ…å ´, å…è²»å¬°å…’é£Ÿå“/å°¿å¸ƒ, å…’ç«¥éŠæˆ²å®¤", åœ°é»:"ç”±å¸ƒé™¢", æº«æ³‰ç‰¹è‰²:"æ‰€æœ‰æ¹¯æ± çš†å¯åŒ…å ´"} },
            { name: "ç”±å¸ƒé™¢Yawaragiä¹‹é„‰YADOYA", icon: "ğŸ¨", shortDesc: "å…’ç«¥éŠæˆ²å®¤ï¼Œç¹ªæœ¬è§’è½ï¼Œæ—¥å¼å®¢æˆ¿ã€‚", priceIndicator: "Â¥Â¥", details: {è¦ªå­æˆ¿å‹:"æ—¥å¼å®¢æˆ¿", å…’ç«¥æœå‹™:"å…’ç«¥éŠæˆ²å®¤, ç¹ªæœ¬è§’è½, å…’ç«¥æµ´è¡£", åœ°é»:"ç”±å¸ƒé™¢", æº«æ³‰ç‰¹è‰²:"å¤§æµ´å ´"} },
            { name: "å¤§åˆ†ç¶ æ´²å¡”æ—¥èˆªé£¯åº—", icon: "ğŸ¨", shortDesc: "å¤§åˆ†å¸‚ä¸­å¿ƒï¼Œå…’ç«¥åŒåºŠå…è²»ï¼Œäº¤é€šä¾¿åˆ©ã€‚", priceIndicator: "Â¥Â¥-Â¥Â¥Â¥", details: {è¦ªå­æˆ¿å‹:"æˆ–æœ‰é€£é€šæˆ¿, å¥—æˆ¿", å…’ç«¥æœå‹™:"å…’ç«¥åŒåºŠå…è²» (å«æ—©), å¬°å…’åºŠ/è­·æ¬„ç§Ÿå€Ÿ", åœ°é»:"å¤§åˆ†å¸‚å€", æº«æ³‰ç‰¹è‰²:"ç„¡ (å¸‚å€é£¯åº—)"} },
        ];

        function createCard(item, type) {
            let content = `
                <div class="card-content">
                    <h3 class="card-title">${item.icon} ${item.name}</h3>
                    <p class="card-text">${item.shortDesc}</p>
            `;
            if (type === 'hotel') {
                content += `<p class="card-text font-semibold">åƒ¹æ ¼æŒ‡æ¨™: ${item.priceIndicator}</p>`;
            }
            content += `
                    <button class="card-button" onclick="showDetails('${item.name}', '${type.replace('-attraction', '').replace('-hotel', '')}')">æŸ¥çœ‹è©³æƒ…</button>
                </div>
            `;
            const cardDiv = document.createElement('div');
            cardDiv.className = 'card';
            cardDiv.innerHTML = content;
            return cardDiv;
        }

        function populateCards(data, containerId, type) {
            const container = document.getElementById(containerId);
            if (!container) {
                console.error("Container not found for cards:", containerId);
                return;
            }
            container.innerHTML = ''; // Clear existing cards
            data.forEach(item => {
                container.appendChild(createCard(item, type));
            });
        }
        
        function showDetails(itemName, itemType) { // Renamed type to itemType to avoid conflict
            let itemData;
            // Adjusted to match the type string passed from createCard more directly
            if (itemType === 'fukuoka') { // Assuming attractions are default for 'fukuoka' type
                 itemData = fukuokaAttractionsData.find(i => i.name === itemName) || fukuokaHotelsData.find(i => i.name === itemName);
            } else if (itemType === 'oita') { // Assuming attractions are default for 'oita' type
                 itemData = oitaAttractionsData.find(i => i.name === itemName) || oitaHotelsData.find(i => i.name === itemName);
            }
            
            // Fallback if specific attraction/hotel type was passed
            if (!itemData) {
                if (itemType.includes('fukuoka-attraction')) itemData = fukuokaAttractionsData.find(i => i.name === itemName);
                else if (itemType.includes('fukuoka-hotel')) itemData = fukuokaHotelsData.find(i => i.name === itemName);
                else if (itemType.includes('oita-attraction')) itemData = oitaAttractionsData.find(i => i.name === itemName);
                else if (itemType.includes('oita-hotel')) itemData = oitaHotelsData.find(i => i.name === itemName);
            }


            if (!itemData || !itemData.details) {
                console.error("Item data or details not found for:", itemName, itemType);
                modalBody.innerHTML = `<p>æŠ±æ­‰ï¼Œæ‰¾ä¸åˆ° ${itemName} çš„è©³ç´°è³‡è¨Šã€‚</p>`;
                modal.style.display = "block";
                return;
            }

            let detailsHtml = `<h2 class="text-2xl font-bold text-orange-700 mb-4">${itemData.icon} ${itemData.name}</h2>`;
            for (const key in itemData.details) {
                detailsHtml += `<p class="mb-2"><strong>${key.charAt(0).toUpperCase() + key.slice(1)}:</strong> ${itemData.details[key]}</p>`;
            }
            if (itemData.details.å®˜ç¶² && itemData.details.å®˜ç¶² !== "å¾…ç¢ºèª" && itemData.details.å®˜ç¶² !== "[20] ç¶²ç«™é€£çµ" && itemData.details.å®˜ç¶² !== "marine-world.jp (ç¤ºæ„)") {
                 detailsHtml += `<p class="mb-2"><strong>å®˜ç¶²:</strong> <a href="https://${itemData.details.å®˜ç¶²}" target="_blank" rel="noopener noreferrer" class="text-teal-600 hover:underline">${itemData.details.å®˜ç¶²}</a></p>`;
            }
            openModal(detailsHtml);
        }

        function initItineraryMap() {
            if (itineraryMapInstance) { // If map already exists, just ensure it's visible and sized correctly
                itineraryMapInstance.invalidateSize();
                return;
            }
            if (!document.getElementById('itineraryMap') || !L) return; // Ensure div and Leaflet are available

            // Centering point for Northern Kyushu (approximate)
            itineraryMapInstance = L.map('itineraryMap').setView([33.45, 130.9], 8);

            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(itineraryMapInstance);

            const allAttractions = [...fukuokaAttractionsData, ...oitaAttractionsData];
            const markers = [];

            allAttractions.forEach(item => {
                if (item.lat && item.lng) {
                    const emojiIcon = L.divIcon({
                        html: `<span style="font-size: 24px;">${item.icon}</span>`,
                        className: 'emoji-marker', // Removes default Leaflet icon background/border
                        iconSize: [30, 30], // Size of the icon
                        iconAnchor: [15, 30], // Point of the icon which will correspond to marker's location
                        popupAnchor: [0, -25] // Point from which the popup should open relative to the iconAnchor
                    });

                    const marker = L.marker([item.lat, item.lng], { icon: emojiIcon })
                        .addTo(itineraryMapInstance)
                        .bindPopup(item.name);
                    markers.push(marker);
                }
            });

            if (markers.length > 0) {
                const group = new L.featureGroup(markers);
                itineraryMapInstance.fitBounds(group.getBounds().pad(0.3)); // Add some padding
            }
             // Invalidate size after a short delay to ensure the map container is fully rendered
            setTimeout(() => {
                if (itineraryMapInstance) {
                    itineraryMapInstance.invalidateSize();
                }
            }, 100);
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            populateCards(fukuokaAttractionsData, 'fukuoka-attractions-cards', 'fukuoka-attraction');
            populateCards(fukuokaHotelsData, 'fukuoka-hotels-cards', 'fukuoka-hotel');
            populateCards(oitaAttractionsData, 'oita-attractions-cards', 'oita-attraction');
            populateCards(oitaHotelsData, 'oita-hotels-cards', 'oita-hotel');

            // Chart initializations (ensure canvas elements exist)
            const fukuokaTicketCtx = document.getElementById('fukuokaAttractionTicketsChart')?.getContext('2d');
            if (fukuokaTicketCtx) {
                new Chart(fukuokaTicketCtx, {
                    type: 'bar',
                    data: {
                        labels: fukuokaAttractionsData.map(a => formatLabel(a.name)),
                        datasets: [{
                            label: 'æˆäººé–€ç¥¨ (JPY)',
                            data: fukuokaAttractionsData.map(a => a.ticket),
                            backgroundColor: 'rgba(234, 179, 8, 0.6)', 
                            borderColor: 'rgba(217, 119, 6, 1)', 
                            borderWidth: 1
                        }]
                    },
                    options: { responsive: true, maintainAspectRatio: false, scales: { y: { beginAtZero: true } }, plugins: { legend: { display: false }, tooltip: { displayColors:false } } }
                });
            }

            const fukuokaStayCtx = document.getElementById('fukuokaAttractionStayTimesChart')?.getContext('2d');
            if (fukuokaStayCtx) {
                new Chart(fukuokaStayCtx, {
                    type: 'bar',
                    data: {
                        labels: fukuokaAttractionsData.map(a => formatLabel(a.name)),
                        datasets: [{
                            label: 'å»ºè­°åœç•™ (å°æ™‚)',
                            data: fukuokaAttractionsData.map(a => a.stay),
                            backgroundColor: 'rgba(20, 184, 166, 0.6)', 
                            borderColor: 'rgba(13, 148, 136, 1)', 
                            borderWidth: 1
                        }]
                    },
                    options: { responsive: true, maintainAspectRatio: false, scales: { y: { beginAtZero: true } }, plugins: { legend: { display: false }, tooltip: { displayColors:false } } }
                });
            }
            
            const oitaTicketCtx = document.getElementById('oitaAttractionTicketsChart')?.getContext('2d');
            if (oitaTicketCtx) {
                new Chart(oitaTicketCtx, {
                    type: 'bar',
                    data: {
                        labels: oitaAttractionsData.map(a => formatLabel(a.name)),
                        datasets: [{
                            label: 'æˆäººé–€ç¥¨ (JPY)',
                            data: oitaAttractionsData.map(a => a.ticket),
                            backgroundColor: 'rgba(234, 179, 8, 0.6)',
                            borderColor: 'rgba(217, 119, 6, 1)',
                            borderWidth: 1
                        }]
                    },
                    options: { responsive: true, maintainAspectRatio: false, scales: { y: { beginAtZero: true } }, plugins: { legend: { display: false }, tooltip: { displayColors:false } } }
                });
            }

            const oitaStayCtx = document.getElementById('oitaAttractionStayTimesChart')?.getContext('2d');
            if (oitaStayCtx) {
                new Chart(oitaStayCtx, {
                    type: 'bar',
                    data: {
                        labels: oitaAttractionsData.map(a => formatLabel(a.name)),
                        datasets: [{
                            label: 'å»ºè­°åœç•™ (å°æ™‚)',
                            data: oitaAttractionsData.map(a => a.stay),
                            backgroundColor: 'rgba(20, 184, 166, 0.6)',
                            borderColor: 'rgba(13, 148, 136, 1)',
                            borderWidth: 1
                        }]
                    },
                    options: { responsive: true, maintainAspectRatio: false, scales: { y: { beginAtZero: true } }, plugins: { legend: { display: false }, tooltip: { displayColors:false } } }
                });
            }
            showSection('home'); // Show home section by default
        });

    </script>
</body>
</html>
